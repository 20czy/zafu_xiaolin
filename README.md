# å†œæ—å°æ— (XiaoLin) - åŸºäº MCP çš„å…¨æ ˆæ ¡å›­ AI åŠ©æ‰‹æ¡†æ¶

<p align="center">
    <img alt="xiaolin" width="200" style="border-radius: 10px;" src="https://github.com/user-attachments/assets/2cb3cc13-fce5-4312-909c-fa93129685ca">
</p>

## ğŸ“ é¡¹ç›®ç®€ä»‹

å†œæ—å°æ—æ˜¯é¢å‘æ ¡å›­å’Œæ•™è‚²åœºæ™¯çš„å…¨æ ˆæ™ºèƒ½ä½“æ¡†æ¶ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾çš„å°†è‡ªå·±çš„ç³»ç»Ÿæ¥å…¥åˆ°æ¡†æ¶ä¸­å»ã€‚çµæ„Ÿæ¥æºäºè®ºæ–‡: [HuggingGPT: Solving AI Tasks with ChatGPT and its Friends in HuggingFace](http://arxiv.org/abs/2303.17580)ã€‚

é¡¹ç›®ä½¿ç”¨è‡ªç„¶è¯­è¨€ä½œä¸ºå¤§è¯­è¨€æ¨¡å‹(LLM)æ²Ÿé€šçš„åª’ä»‹ï¼Œé›†æˆäº†ä»»åŠ¡è§„åˆ’âœï¸å’Œå·¥å…·è°ƒç”¨ğŸ”§ä¸ºä¸€ä½“ï¼Œä¸“æ³¨äºå¯¹æ¥ç°æœ‰æ ¡å›­ç³»ç»Ÿï¼Œé«˜æ•ˆè§£å†³æ ¡å›­èŒƒå›´å†…çš„å¤æ‚é—®é¢˜ğŸ¤”ã€‚æœ¬é¡¹ç›®å®ç°äº† Model Context Protocol (MCP) å®¢æˆ·ç«¯ï¼Œä½¿ AI åŠ©æ‰‹èƒ½å¤Ÿæ— ç¼è¿æ¥å¹¶åˆ©ç”¨æ ¡å›­å†…çš„å„ç§æ•°æ®æºå’Œå·¥å…·ã€‚

### ğŸ¦¾ é¡¹ç›®æ¼”ç¤º

[æŸ¥çœ‹æ¼”ç¤ºè§†é¢‘](https://github.com/user-attachments/assets/89f6fd26-3d2b-4d25-a6b3-afe34c89fa88)

## ğŸ’¡ MCP é›†æˆ

å†œæ—å°æ—å®ç°äº† Model Context Protocol (MCP) å®¢æˆ·ç«¯ï¼Œä¸ºé¡¹ç›®æä¾›äº†å¼ºå¤§çš„å¤–éƒ¨æ•°æ®è®¿é—®èƒ½åŠ›ã€‚

### ä»€ä¹ˆæ˜¯ MCP?

Model Context Protocol (ç®€ç§° MCPï¼Œä¸­æ–‡ç§°ä¸ºæ¨¡å‹ä¸Šä¸‹æ–‡åè®®) æ˜¯ç”± Anthropic æ¨åŠ¨çš„å¼€æ”¾æ ‡å‡†åè®®ï¼Œæ—¨åœ¨ä¸ºå¤§å‹è¯­è¨€æ¨¡å‹ (LLMs) æä¾›ä¸€ä¸ªæ ‡å‡†åŒ–æ¥å£ï¼Œä½¿å…¶èƒ½å¤Ÿè¿æ¥å¹¶äº¤äº’å¤–éƒ¨æ•°æ®æºå’Œå·¥å…·ï¼Œå…‹æœ LLMs ä»…ä¾èµ–è®­ç»ƒæ•°æ®çš„å±€é™æ€§ã€‚

### MCP æ ¸å¿ƒä¼˜åŠ¿

* **è¿æ¥å¤–éƒ¨æ•°æ®å’Œå·¥å…·**ï¼šå…è®¸ LLMs åŠ¨æ€è·å–æ‰€éœ€çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¦‚æ•°æ®åº“è®°å½•ã€æ–‡ä»¶å†…å®¹ã€API æ•°æ®ç­‰
* **æ ‡å‡†åŒ–é€šä¿¡åè®®**ï¼šå®šä¹‰ç»Ÿä¸€çš„é€šä¿¡æ ¼å¼ï¼Œä½¿ AI åº”ç”¨èƒ½å¤Ÿä»¥ä¸€è‡´çš„æ–¹å¼ä¸å„ç§å¤–éƒ¨ç³»ç»Ÿäº¤äº’
* **å®‰å…¨æ€§å’Œéšç§ä¿æŠ¤**ï¼šåœ¨æœ¬åœ°è¿è¡ŒæœåŠ¡å™¨ï¼Œé¿å…æ•æ„Ÿæ•°æ®ä¸Šä¼ è‡³ç¬¬ä¸‰æ–¹
* **çµæ´»æ€§å’Œå¯æ‰©å±•æ€§**ï¼šæ”¯æŒå¤šç§æ•°æ®æºå’Œå·¥å…·çš„é›†æˆï¼Œä¾¿äºæ„å»ºå¤æ‚çš„ AI å·¥ä½œæµ

### åœ¨å†œæ—å°æ—ä¸­çš„åº”ç”¨

ä½œä¸º MCP å®¢æˆ·ç«¯ï¼Œå†œæ—å°æ—èƒ½å¤Ÿï¼š

1. **æ ¡å›­æ•°æ®é›†æˆ**ï¼šæ— ç¼è¿æ¥å­¦æ ¡çš„å„ç§æ•°æ®ç³»ç»Ÿï¼Œå¦‚æ•™åŠ¡ç³»ç»Ÿã€å›¾ä¹¦é¦†ç³»ç»Ÿã€å­¦ç”Ÿä¿¡æ¯ç³»ç»Ÿç­‰
2. **å®æ—¶ä¿¡æ¯è·å–**ï¼šè·å–æœ€æ–°çš„æ ¡å›­é€šçŸ¥ã€è¯¾ç¨‹ä¿¡æ¯ã€æ´»åŠ¨å®‰æ’ç­‰
3. **ä¸ªæ€§åŒ–æœåŠ¡**ï¼šæ ¹æ®å­¦ç”Ÿçš„ä¸ªäººæ•°æ®æä¾›å®šåˆ¶åŒ–çš„å­¦ä¹ å»ºè®®å’Œæ ¡å›­ç”Ÿæ´»æŒ‡å¯¼
4. **å®‰å…¨æ•°æ®å¤„ç†**ï¼šç¡®ä¿æ•æ„Ÿå­¦ç”Ÿæ•°æ®åœ¨æœ¬åœ°å¤„ç†ï¼Œä¿æŠ¤éšç§å’Œå®‰å…¨

### MCP æ¶æ„é›†æˆ

å†œæ—å°æ—é¡¹ç›®é‡‡ç”¨ MCP çš„å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„ï¼š

* **MCP å®¢æˆ·ç«¯**ï¼šåµŒå…¥åœ¨å†œæ—å°æ—åº”ç”¨ä¸­ï¼Œè´Ÿè´£ä¸ MCP æœåŠ¡å™¨å»ºç«‹é€šä¿¡ä¼šè¯
* **MCP æœåŠ¡å™¨**ï¼šè¿æ¥æ ¡å›­å„ç³»ç»Ÿï¼ŒæŒ‰ç…§ MCP åè®®è§„èŒƒæš´éœ²æ ‡å‡†åŒ–åŠŸèƒ½æ¥å£
* **å®¿ä¸»åº”ç”¨**ï¼šå†œæ—å°æ— AI åŠ©æ‰‹ï¼Œé›†æˆ MCP å®¢æˆ·ç«¯ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿè°ƒç”¨æ ¡å›­æ•°æ®å’Œå·¥å…·

é€šè¿‡ MCP é›†æˆï¼Œå†œæ—å°æ—å®ç°äº†ä¸€ä¸ªçœŸæ­£çš„"çŸ¥æ ¡å›­ã€æ‡‚æ ¡å›­"çš„ AI åŠ©æ‰‹ï¼Œèƒ½å¤Ÿæä¾›æ›´åŠ ç²¾å‡†ã€å®æ—¶çš„æ ¡å›­æœåŠ¡ã€‚

## ğŸ’» é¡¹ç›®æ¶æ„

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ backend/          # Django åç«¯
â”‚   â””â”€â”€ chatbot/      # æ ¸å¿ƒèŠå¤©æœºå™¨äººåº”ç”¨
â”œâ”€â”€ fastapi/          # FastAPI åç«¯å®ç°
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ agent/    # ä»£ç†ç³»ç»Ÿç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ api/      # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ core/     # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ db/       # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ schemas/  # Pydanticæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/ # æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ mcp/      # MCP å®¢æˆ·ç«¯å®ç°
â”‚   â”œâ”€â”€ alembic/      # æ•°æ®åº“è¿ç§»
â”‚   â””â”€â”€ main.py       # åº”ç”¨å…¥å£
â””â”€â”€ frontend/         # å‰ç«¯åº”ç”¨
```

## ğŸš€ è¿è¡Œé¡¹ç›®

### å‰ææ¡ä»¶

- Python 3.8+
- Node.js å’Œ npm
- Docker å’Œ Docker Compose (æ¨èä½¿ç”¨ Docker Compose æ–¹å¼éƒ¨ç½²)
- MCP æœåŠ¡å™¨ (ç”¨äºè¿æ¥æ ¡å›­æ•°æ®ç³»ç»Ÿ)

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Docker Compose éƒ¨ç½²ï¼ˆæ¨èï¼‰

é¡¹ç›®æä¾›äº†å®Œæ•´çš„ Docker Compose é…ç½®ï¼Œå¯ä»¥ä¸€é”®éƒ¨ç½²æ‰€æœ‰æœåŠ¡ï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
docker-compose up --build
```

è¯¥å‘½ä»¤ä¼šå¯åŠ¨ä»¥ä¸‹æœåŠ¡ï¼š
- **backend**: Django åç«¯æœåŠ¡ (ç«¯å£ 8000)
- **frontend**: Next.js å‰ç«¯æœåŠ¡ (ç«¯å£ 3000)
- **fastapi**: FastAPI æœåŠ¡ (ç«¯å£ 8001)
- **db**: PostgreSQL æ•°æ®åº“ (ç«¯å£ 5432)
- **redis**: Redis ç¼“å­˜æœåŠ¡ (ç«¯å£ 6379)

> æ³¨æ„ï¼šé¦–æ¬¡å¯åŠ¨æ—¶ï¼ŒDocker Compose ä¼šè‡ªåŠ¨æ„å»ºé•œåƒå¹¶åˆå§‹åŒ–æ•°æ®åº“ã€‚

### æ–¹æ³•äºŒï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒéƒ¨ç½²

#### 1. è¿è¡Œ Redis

ç¡®ä¿ Redis æœåŠ¡åœ¨æœ¬åœ° 6379 ç«¯å£è¿è¡Œ:

```bash
# Windowsç”¨æˆ·å¯ä½¿ç”¨Docker
docker pull redis
docker run -d -p 6379:6379 --name my_redis redis
```

#### 2. å¯åŠ¨åç«¯æœåŠ¡

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ:

```bash
# å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨åç«¯æœåŠ¡
cd backend/
python manage.py runserver
```

#### 3. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend/
npm install

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
npm run dev
```

### ç¯å¢ƒå˜é‡é…ç½®

ä¿®æ”¹ `backend/chatbot/.env` æ–‡ä»¶ï¼Œè®¾ç½®ä»¥ä¸‹å˜é‡:

```
DEEPSEEK_API_KEY=your_deepseek_api_key
MCP_SERVER_URL=http://localhost:8080  # MCP æœåŠ¡å™¨åœ°å€
MCP_API_KEY=your_mcp_api_key  # å¦‚æœéœ€è¦
```

æˆ–è€…ï¼Œå¦‚æœä½¿ç”¨FastAPIç‰ˆæœ¬ï¼Œåˆ›å»º `fastapi/.env` æ–‡ä»¶:

```
DEEPSEEK_API_KEY=your_deepseek_api_key
DATABASE_URL=sqlite:///./app.db
MCP_SERVER_URL=http://localhost:8080
MCP_API_KEY=your_mcp_api_key
```

### è®¿é—®åº”ç”¨

- ç™»å½•é¡µé¢: http://localhost:3000/login (é»˜è®¤è´¦å·/å¯†ç : root/123456)
- èŠå¤©é¡µé¢: http://localhost:3000/chat

## ğŸ”„ FastAPI ç‰ˆæœ¬è¯´æ˜

é¡¹ç›®æä¾›äº†åŸºäº FastAPI çš„æ›¿ä»£åç«¯agenté€»è¾‘å®ç°ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹:

1. **å¼‚æ­¥æ”¯æŒ**: åŸç”Ÿæ”¯æŒå¼‚æ­¥ç¼–ç¨‹ï¼Œé€‚åˆå¤„ç† MCP è¯·æ±‚
2. **ä¾èµ–æ³¨å…¥**: ä½¿ç”¨ FastAPI çš„ä¾èµ–æ³¨å…¥ç³»ç»Ÿç®¡ç†æ•°æ®åº“ä¼šè¯å’Œ MCP å®¢æˆ·ç«¯
3. **æµå¼å“åº”**: å®ç°æµå¼èŠå¤©å“åº”
4. **MCP å®¢æˆ·ç«¯å®ç°**: é›†æˆæ ‡å‡†åŒ–çš„ MCP å®¢æˆ·ç«¯æ¥å£

### FastAPI ç‰ˆæœ¬è¿è¡Œ

```bash
cd fastapi/
pip install -r requirements.txt

# åˆå§‹åŒ–æ•°æ®åº“
alembic revision --autogenerate -m "Initial migration"
alembic upgrade head

# å¯åŠ¨æœåŠ¡ fastapiæœåŠ¡è¿è¡Œåœ¨8001ç«¯å£
uvicorn main:app --host 0.0.0.0 --port 8001 --reload
```

API æ–‡æ¡£å°†åœ¨ä»¥ä¸‹åœ°å€å¯ç”¨:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## ğŸ’¡ æœªæ¥è§„åˆ’ (RoadMap)

### ä¼˜åŒ–
- [ ] ä¼˜åŒ–ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œçš„ç®—æ³•
- [ ] æ¢ç´¢æ›´å¤šagentèŒƒå¼

### æ·»åŠ 
- [ ] æ·»åŠ mcpæœåŠ¡å™¨æ¥å…¥sdk
- [ ] æ·»åŠ apiå·¥å…·æ¥å…¥sdk


## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœæ‚¨å¯¹è¯¥é¡¹ç›®æ„Ÿå…´è¶£æˆ–æœ‰ä»»ä½•ç–‘é—®ï¼Œå¯ä»¥é€šè¿‡[é‚®ç®±](mailto:3092492683@qq.com)æˆ–æ˜¯QQï¼š3092492683è”ç³»æˆ‘ã€‚
